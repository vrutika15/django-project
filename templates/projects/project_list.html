{% load static %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

<div class="container mt-5">
  <h2>Projects</h2>
  <a href="{% url 'projects:project_create' %}" class="btn btn-primary mb-3">+ New Project</a>
  <table class="table table-bordered table-hover">
    <thead class="table-dark">
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Resources</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for project in projects %}
        <tr>
          <td>{{ project.project_name }}</td>
          <td>{{ project.get_project_type_display }}</td>
          <td>
            {% for resource in project.resources.all %}
              <span>{{ resource.resource_name }}</span>
              {% if not forloop.last %}, {% endif %}
            {% endfor %}
          </td>
          <td>
            <a href="{% url 'projects:project_edit' project.pk %}" class="btn btn-sm btn-warning">Edit</a>
            <a href="{% url 'projects:project_delete' project.pk %}" class="btn btn-sm btn-danger">Delete</a>
          </td>
        </tr>
      {% empty %}
        <tr><td colspan="4">No projects available.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
